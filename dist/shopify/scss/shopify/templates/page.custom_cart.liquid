{% layout none %}
{
    "note"                    : {{ cart.note | json }},
    "attributes"              : {{ cart.attributes | json }},
    "original_total_price"    : {{ cart.original_total_price  | json }},
    "original_total_price_variations" : {
       "default_money"          : {{ cart.original_total_price | money  | json }},
       "without_currency"       : {{ cart.original_total_price | money_without_currency | json }},
       "without_trailing_zeros" : {{ cart.original_total_price | money_without_trailing_zeros  | json }},
       "with_currency"          : {{ cart.original_total_price | money_with_currency   | json }}
    },
    "total_price"             : {{ cart.total_price | json }},
    "total_price_variations"  : {
      "default_money"           : {{ cart.total_price | money  | json }},
      "without_currency"        : {{ cart.total_price | money_without_currency | json }},
      "without_trailing_zeros"  : {{ cart.total_price | money_without_trailing_zeros  | json }},
      "with_currency"           : {{ cart.total_price | money_with_currency   | json }}
    },
    "total_discount"          : {{ cart.total_discount | json }},
    "total_discount_variations"  : {
      "default_money"           : {{ cart.total_discount | money  | json }},
      "without_currency"        : {{ cart.total_discount | money_without_currency | json }},
      "without_trailing_zeros"  : {{ cart.total_discount | money_without_trailing_zeros  | json }},
      "with_currency"           : {{ cart.total_discount | money_with_currency   | json }}
    },
    "items_subtotal_price"    : {{ cart.items_subtotal_price | json }},
    "items_subtotal_price_variations"  : {
      "default_money"           : {{ cart.items_subtotal_price | money  | json }},
      "without_currency"        : {{ cart.items_subtotal_price | money_without_currency | json }},
      "without_trailing_zeros"  : {{ cart.items_subtotal_price | money_without_trailing_zeros  | json }},
      "with_currency"           : {{ cart.items_subtotal_price | money_with_currency   | json }}
    },
    "total_weight"            : {{ cart.total_weight | json }},
    "item_count"              : {{ cart.item_count | json }},
    "currency"                : "{{ cart.currency.iso_code  }}",
    "cart_level_discount_applications": {{ cart.cart_level_discount_applications | json }},
    "items": [
    {% for item in cart.items %}
      {
        "id"                  : {{ item.id | json }},
        "properties"          : {{ item.properties | json }},
        "quantity"            : {{ item.quantity | json }},
        "variant_id"          : {{ item.variant_id | json }},
        "key"                 : {{ item.key | json }},
        "title"               : {{ item.title | json }},
  
        
        
        "discounted_price"    : {{ item.discounted_price | json }},
        "total_discount"      : {{ item.total_discount | json }},
        "discounts"           : {{ item.discounts | json }},
  
        "price"               : {{ item.price | json }},
        "line_price"          : {{ item.line_price | json }},
  
        "original_price"      : {{ item.original_price | json }},
        "original_price_variations"  : {
          "default_money"           : {{ item.original_price | money  | json }},
          "without_currency"        : {{ item.original_price | money_without_currency | json }},
          "without_trailing_zeros"  : {{ item.original_price | money_without_trailing_zeros  | json }},
          "with_currency"           : {{ item.original_price | money_with_currency   | json }}
        },
        "original_line_price" : {{ item.original_line_price | json }},
        "original_line_price_variations"  : {
          "default_money"           : {{ item.original_line_price | money  | json }},
          "without_currency"        : {{ item.original_line_price | money_without_currency | json }},
          "without_trailing_zeros"  : {{ item.original_line_price | money_without_trailing_zeros  | json }},
          "with_currency"           : {{ item.original_line_price | money_with_currency   | json }}
        },
        "final_price"         : {{ item.final_price | json }},
        "final_price_variations"  : {
          "default_money"           : {{ item.final_price | money  | json }},
          "without_currency"        : {{ item.final_price | money_without_currency | json }},
          "without_trailing_zeros"  : {{ item.final_price | money_without_trailing_zeros  | json }},
          "with_currency"           : {{ item.final_price | money_with_currency   | json }}
        },
        "final_line_price"    : {{ item.final_line_price | json }},
        "final_line_price_variations"  : {
          "default_money"           : {{ item.final_line_price | money  | json }},
          "without_currency"        : {{ item.final_line_price | money_without_currency | json }},
          "without_trailing_zeros"  : {{ item.final_line_price | money_without_trailing_zeros  | json }},
          "with_currency"           : {{ item.final_line_price | money_with_currency   | json }}
        },
  
        "sku"                 : {{ item.sku | json }},
        "grams"               : {{ item.grams | json }},
        "vendor"              : {{ item.vendor | json }},
        "taxable"             : {{ item.taxable | json }},
        "product_id"          : {{ item.product_id | json }},
        "product_has_only_default_variant": {% if item.product.variants.size == 1  %} true {% else %} false {% endif %},
        "gift_card"           : {{ item.gift_card | json }},
        "url"                 : {{ item.url | json }},
        {% if item.image %}
          "featured_image"      : {
              "aspect_ratio" : {{ item.image.aspect_ratio | json }},
              "alt"          : {{ item.image.alt | json }},
              "height"       : {{ item.image.height | json }},
              "url"          : {{ item.image | img_url: 'master' | json }},
              "url_100x"     : {{ item.image | img_url: '100x' | json }},
              "url_200x"     : {{ item.image | img_url: '200x' | json }},
              "url_500x"     : {{ item.image | img_url: '500x' | json }},
              "width"        : {{ item.image.width | json }}
          },
        {% endif %}
        "image"               : {{ item.image | img_url: 'master' | json }},
        "image_100x"          : {{ item.image | img_url: '110x' | json }},
        "image_200x"          : {{ item.image | img_url: '200x' | json }},
        "image_500x"          : {{ item.image | img_url: '500x' | json }},
        "handle"              : {{ item.product.handle | json }},
        "requires_shipping"   : {{ item.requires_shipping | json }},
        "product_type"        : {{ item.product.type | json }},
        "product_title"       : {{ item.title | json }},
        "product_description" : {{ item.content | json }},
        "variant_title"       : {{ item.variant.title | json }},
        "variant_options"     : [
          {% for option in item.options_with_values %}
              {{ option.value | json }}{% unless forloop.last %},{% endunless %}
          {% endfor %}
        ],
        "options_with_values" : {{ item.variant.options_with_values | json }},
        "line_level_discount_allocations": {{ item.line_level_discount_allocations | json }},
        "line_level_total_discount"      : {{ item.line_level_total_discount | json }}
      }

      {% unless forloop.last %},{% endunless %}
    {% endfor %}
    ]
}